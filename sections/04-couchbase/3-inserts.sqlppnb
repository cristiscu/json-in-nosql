{"cells":[{"kind":2,"language":"SQL++","value":"CREATE SCOPE test.samples IF NOT EXISTS"},{"kind":2,"language":"SQL++","value":"DROP COLLECTION test.samples.store IF EXISTS"},{"kind":2,"language":"SQL++","value":"CREATE COLLECTION test.samples.store IF NOT EXISTS"},{"kind":2,"language":"SQL++","value":"INSERT INTO test.samples.store (KEY, VALUE)\r\nVALUES (\"my unique key\",\r\n{\r\n      \"book\": [\r\n      {\r\n            \"category\": \"reference\",\r\n            \"author\": \"Nigel Rees\",\r\n            \"title\": \"Sayings of the Century\",\r\n            \"price\": 8.95,\r\n            \"editions\": [1993, 1995, 1998]\r\n      },\r\n      {\r\n            \"category\": \"fiction\",\r\n            \"author\": \"Evelyn Waugh\",\r\n            \"title\": \"Sword of Honour\",\r\n            \"price\": 12.99,\r\n            \"editions\": [1996, 1998]\r\n      },\r\n      {\r\n            \"category\": \"fiction\",\r\n            \"author\": \"Herman Melville\",\r\n            \"title\": \"Moby Dick\",\r\n            \"isbn\": \"0-553-21311-3\",\r\n            \"price\": 8.99,\r\n            \"editions\": [1991, 1996, 1998]\r\n      },\r\n      {\r\n            \"category\": \"fiction\",\r\n            \"author\": \"J. R. R. Tolkien\",\r\n            \"title\": \"The Lord of the Rings\",\r\n            \"isbn\": \"0-395-19395-8\",\r\n            \"price\": 22.99\r\n      },\r\n      {\r\n            \"category\": \"software\",\r\n            \"authors\": [\r\n                  { \"author\": \"Thomas Linn\" },\r\n                  { \"author\": \"Jane Mathews\" }\r\n            ],\r\n            \"title\": \"Snowflake for Beginners\",\r\n            \"price\": 12.49,\r\n            \"editions\": [1996]\r\n      }\r\n      ],\r\n      \"bicycle\": {\r\n            \"color\": \"red\",\r\n            \"price\": 19.95\r\n      }\r\n})\r\nRETURNING *"},{"kind":2,"language":"SQL++","value":"select raw s\r\nfrom test.samples.store s"},{"kind":2,"language":"SQL++","value":"UPDATE test.samples.store\r\nSET bicycle.color = 'green'\r\nRETURNING *"},{"kind":2,"language":"SQL++","value":"UPDATE test.samples.store\r\nSET bicycle.available = true\r\nRETURNING raw store.bicycle"},{"kind":2,"language":"SQL++","value":"UPDATE test.samples.store\r\nUNSET bicycle.available\r\nRETURNING raw store.bicycle"},{"kind":2,"language":"SQL++","value":"UPDATE test.samples.store\r\nSET book = ARRAY_APPEND(book, {\"title\": \"This is a new book\"})\r\nRETURNING raw store.book"}]}