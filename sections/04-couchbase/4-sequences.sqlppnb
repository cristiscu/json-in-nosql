{"cells":[{"kind":2,"language":"SQL++","value":"select raw s\r\nfrom test.samples.store s"},{"kind":2,"language":"SQL++","value":"select raw b\r\nfrom test.samples.store s\r\nunnest s.book b"},{"kind":2,"language":"SQL++","value":"DROP SEQUENCE test.samples.book_seq IF EXISTS"},{"kind":2,"language":"SQL++","value":"CREATE SEQUENCE test.samples.book_seq\r\n    START WITH 10\r\n    INCREMENT BY 2\r\n    MAXVALUE 10000\r\n    MINVALUE 0\r\n    CYCLE"},{"kind":2,"language":"SQL++","value":"DROP COLLECTION test.samples.books IF EXISTS"},{"kind":2,"language":"SQL++","value":"CREATE COLLECTION test.samples.books IF NOT EXISTS"},{"kind":2,"language":"SQL++","value":"INSERT INTO test.samples.books (KEY k, VALUE v)\r\n    select TO_STRING(NEXT VALUE FOR test.samples.book_seq) AS k, b AS v\r\n    from test.samples.store s\r\n    unnest s.book b\r\nRETURNING META().id as k, *;"},{"kind":2,"language":"SQL++","value":"select META().id as `key`, b as `value`\r\nfrom test.samples.books b\r\norder by `key`"},{"kind":2,"language":"SQL++","value":"select PREVVAL FOR test.samples.book_seq"},{"kind":2,"language":"SQL++","value":"select raw b\r\nfrom test.samples.books b"},{"kind":2,"language":"SQL++","value":"with cte as (\r\n    select raw ROUND(AVG(b2.price), 2)\r\n    from default:test.samples.books b2)\r\nselect b.*\r\nfrom default:test.samples.books b\r\nwhere b.price > cte[0]"},{"kind":2,"language":"SQL++","value":"select raw books\r\nfrom test.samples.books\r\nUSE KEYS \"14\""},{"kind":2,"language":"SQL++","value":"select raw books\r\nfrom test.samples.books\r\nWHERE META().id = \"14\""},{"kind":2,"language":"SQL++","value":"select raw books\r\nfrom test.samples.books\r\nUSE KEYS [\r\n    \"14\",     -- Moby Dick\r\n    \"16\",     -- The Lord of the Rings\r\n    \"(bad)\"   -- (not found)\r\n]"},{"kind":2,"language":"SQL++","value":"select s.*\r\nfrom system:all_sequences s"}]}